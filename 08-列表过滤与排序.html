<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="./js/vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="app">
			<input type="text" name="" id="" value="" v-model="kw"/>
			<ul >
				<li v-for="(item,index) in filterPersons" :key='item.id'>{{item.id}}--{{item.name}}--{{item.age}}</li>
			</ul>
			<button type="button" @click="up">按年龄升序</button>
			<button type="button">按年龄降序</button>
			<button type="button">原本顺序</button>
		</div>
		
		
		<script type="text/javascript">
			new Vue({
				el:'#app',
				data:{
					kw:'',
					persons:[
						{id:1,name:'tom',age:18},
						{id:2,name:'张三',age:20},
						{id:3,name:'李四',age:25},
						{id:4,name:'jack',age:16},
						{id:5,name:'lucy',age:28}
					]
				},
				methods:{
					up:function(){
						
					}
				},
				computed:{
					filterPersons:function(){
						let kw=this.kw;
						//取出依赖数据
						if(this.kw==''){
							return this.persons;
						}
						
						//计算产生一个新数据
						let arr =this.persons.filter(function(item,index){
							return item.name.indexOf(kw)!=-1;
						})
						
						//返回新数据
						return arr;
						
					}
				}
			})
			
		</script>
	</body>
</html>
